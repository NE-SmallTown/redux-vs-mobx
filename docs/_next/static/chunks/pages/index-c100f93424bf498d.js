(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(441)}])},8880:function(e,r,t){"use strict";t.d(r,{q:function(){return n}});var n=function(){return{level:1,id:"1-1",value:"\ud83e\udd2b",children:[{level:2,id:"2-1",value:"\ud83e\udd2b",children:[{level:3,id:"3-1",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-2",value:"\ud83e\udd2b",children:[]}]},{level:2,id:"2-2",value:"\ud83e\udd2b",children:[{level:3,id:"3-3",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-4",value:"\ud83e\udd2b",children:[]}]},{level:2,id:"2-3",value:"\ud83e\udd2b",children:[{level:3,id:"3-5",value:"\ud83e\udd2b",children:[]},{level:3,id:"3-6",value:"\ud83e\udd2b",children:[]}]}]}}},441:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var n=t(5893),a=(t(7294),t(2349)),l=t(7095);function i(){return(0,n.jsxs)("div",{className:"page-root",children:[(0,n.jsx)(a.default,{}),(0,n.jsx)(l.default,{})]})}},7095:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return N}});var n=t(5893),a=t(7294),l=t(1217),i=t(7090),c=t(8880),o=i.V5.model({level:i.V5.number,id:i.V5.string,value:i.V5.string,children:i.V5.array(i.V5.late((function(){return o})))}).actions((function(e){return{setNodeValue:function(r){e.value=r}}}));var s=i.V5.model({rootNode:o}).actions((function(e){return{getNodeById:function(r){return function(e,r){var t;return function e(n){if(!t)if(n.id===r)t=n;else for(var a=0;a<n.children.length;a++)e(n.children[a])}(e),t}(e.rootNode,r)}}})),d=s.create({rootNode:(0,c.q)()}),u=localStorage.getItem("rootState");if(u){var f=JSON.parse(u);s.is(f)&&(d=s.create(f))}var v=d;(0,i.cf)(v,(function(e){}));var h=(0,a.createContext)(null),m=h.Provider;var x=t(3293),p=(0,l.Pi)((function(e){var r=e.id,t=function(){var e=(0,a.useContext)(h);if(null===e)throw new Error("Store cannot be null, please add a context provider");return e}().getNodeById(r),l=(0,a.useRef)(null);(0,a.useEffect)((function(){l.current.classList.add("rendered"),setTimeout((function(){l.current.classList.remove("rendered")}),500)}));var i=(0,a.useCallback)((function(){t.setNodeValue(String(Math.floor(1e4*Math.random())))}),[r,t]);return console.log("MobxNode(".concat(r,") render")),(0,n.jsxs)("div",{className:"node-wrap",style:{marginBottom:3===t.level?"200px":0},children:[(0,n.jsxs)("div",{className:"node",ref:l,children:[(0,n.jsx)("div",{children:t.id}),(0,n.jsx)("div",{className:"value",children:t.value}),(0,n.jsx)("div",{className:"action",onClick:i,children:"change"})]}),!!t.children.length&&(0,n.jsx)("div",{className:"children-wrap",children:t.children.map((function(e,r){var t={};if(2===e.level)switch(r){case 0:t.left="-400px",t.transform="translateX(-100%)";break;case 1:t.left=0,t.transform="translateX(0)";break;case 2:t.left="400px",t.transform="translateX(100%)"}else if(3===e.level)switch(e.id){case"3-1":t.left="-50px",t.transform="translateX(-100%)";break;case"3-2":t.left="150px",t.transform="translateX(0)";break;case"3-3":t.left="-150px",t.transform="translateX(0)";break;case"3-4":t.left="150px",t.transform="translateX(0)";break;case"3-5":t.left="-150px",t.transform="translateX(0)";break;case"3-6":t.left="150px",t.transform="translateX(0)"}return(0,n.jsx)("div",{className:"child-wrap",style:t,ref:function(e){if(e){var r=l.current.getBoundingClientRect(),t=e.getBoundingClientRect();(0,x.W)("redux-demo",r.x+75,r.y+150,t.x+75,t.y)}},children:(0,n.jsx)(p,{id:e.id})},e.id)}))})]})}));function N(){return(0,n.jsx)(m,{value:v,children:(0,n.jsxs)("div",{className:"section-mobx-demo",children:[(0,n.jsx)("h2",{children:"Mobx demo"}),(0,n.jsx)(p,{id:"1-1"})]})})}},2349:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var n=t(5893),a=t(7294),l=t(6628),i=t(3293),c=t(4890),o=t(8172),s=t(9208),d=t.n(s),u=(0,t(8880).q)(),f="CHANGE_NODE_VALUE",v=(0,c.UY)({rootNode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case f:var t=r.id,n=r.newValue;return(0,o.ZP)(e,(function(e){var r=!1,a="";!function e(n){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!r)if(n.id===t)r=!0,a=l;else for(var i=0;i<n.children.length;i++)e(n.children[i],l?"".concat(l,".children[").concat(i,"]"):"children[".concat(i,"]"))}(e),""===a?e.value=n:d()(e,a).value=n}));default:return e}}}),h=(0,c.MT)(v);function m(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var x=(0,l.$j)((function(e,r){var t;return function e(n){n.id!==r.id?n.children.forEach((function(r){e(r)})):t=n}(e.rootNode),t}))((function(e){var r=e.id,t=m(e,["id"]),c=(0,a.useRef)(null);(0,a.useEffect)((function(){c.current.classList.add("rendered"),setTimeout((function(){c.current.classList.remove("rendered")}),500)}));var o=(0,l.I0)(),s=(0,a.useCallback)((function(){o(function(e,r){return{type:f,id:e,newValue:r}}(r,Math.floor(1e4*Math.random())))}),[o,r]);return console.log("ReduxNode(".concat(r,") render")),(0,n.jsxs)("div",{className:"node-wrap",children:[(0,n.jsxs)("div",{className:"node",ref:c,children:[(0,n.jsx)("div",{children:r}),(0,n.jsx)("div",{className:"value",children:t.value}),(0,n.jsx)("div",{className:"action",onClick:s,children:"change"})]}),!!t.children.length&&(0,n.jsx)("div",{className:"children-wrap",children:t.children.map((function(e,r){var t={};if(2===e.level)switch(r){case 0:t.left="-400px",t.transform="translateX(-100%)";break;case 1:t.left=0,t.transform="translateX(0)";break;case 2:t.left="400px",t.transform="translateX(100%)"}else if(3===e.level)switch(e.id){case"3-1":t.left="-50px",t.transform="translateX(-100%)";break;case"3-2":t.left="150px",t.transform="translateX(0)";break;case"3-3":t.left="-150px",t.transform="translateX(0)";break;case"3-4":t.left="150px",t.transform="translateX(0)";break;case"3-5":t.left="-150px",t.transform="translateX(0)";break;case"3-6":t.left="150px",t.transform="translateX(0)"}return(0,n.jsx)("div",{className:"child-wrap",style:t,ref:function(e){if(e){var r=c.current.getBoundingClientRect(),t=e.getBoundingClientRect();(0,i.W)("redux-demo",r.x+75,r.y+150,t.x+75,t.y)}},children:(0,n.jsx)(x,{id:e.id})},e.id)}))})]})}));function p(){return(0,n.jsx)(l.zt,{store:h,children:(0,n.jsxs)("div",{className:"section-redux-demo",children:[(0,n.jsx)("h2",{children:"Redux demo"}),(0,n.jsx)(x,{id:"1-1"})]})})}},3293:function(e,r,t){"use strict";t.d(r,{W:function(){return a}});var n={};function a(e,r,t,a,l){t=scrollY+t,l=scrollY+l;var i=r-a,c=t-l,o=Math.sqrt(i*i+c*c),s=(r+a)/2-o/2,d=(t+l)/2,u=Math.PI-Math.atan2(-c,i);setTimeout((function(){var i="".concat(e,"-").concat(r,"-").concat(t,"-").concat(a,"-").concat(l);n[i]&&n[i].parentNode.removeChild(n[i]);var c=function(e,r,t,n){var a=document.createElement("div");a.className="line";var l="border: 1px solid #f76732; width: "+t+"px; height: 0px; -moz-transform: rotate("+n+"rad); -webkit-transform: rotate("+n+"rad); -o-transform: rotate("+n+"rad); -ms-transform: rotate("+n+"rad); position: absolute; top: "+r+"px; left: "+e+"px; ";return a.setAttribute("style",l),a}(s,d,o,u);n[i]=c,document.body.appendChild(c)}),100)}}},function(e){e.O(0,[455,461,791,45,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);